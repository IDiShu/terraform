# terraform
 terraform training
Замеки : 

terraform import - Команда позволяет импортировать существующие ресурсы из инфраструктуры в управление Terraform.

terraform init - команда проходится по всем файлам и увидит с каким провайдером работаем ( подкачивает все что ей нужно ).

terrafrom plan - смотрит что нужно создать и покажет все что мы написали ( но не создаст ничего ) проверка для дебага .

terraform apply - создание инстансов и тех параметров которые мы пишем в коде для создание в AWS ( и других клауд сервисов ) .

terraform destroy - уничтожение всех серверов 

terraform console - консоль терааформа

terraform validate - Эта команда выполняет проверку синтаксиса и структуры Terraform-конфигурации, чтобы убедиться, что она корректна.

terraform fmt -Команда terraform fmt автоматически форматирует Terraform-конфигурацию для обеспечения соблюдения стандартов форматирования.

terraform workspace -Terraform поддерживает рабочие пространства (workspaces), которые позволяют вам управлять несколькими окружениями инфраструктуры. Этот набор команд, таких как terraform workspace new, terraform workspace list и terraform workspace select, позволяет вам управлять рабочими пространствами.

terraform state -Эта группа команд позволяет управлять состоянием Terraform, включая просмотр и изменение состояния ресурсов.

terraform output - Команда terraform output позволяет просматривать значения выходных переменных, определенных в Terraform-конфигурации.

export AWS_ACCESS_KEY_ID= - экспортирование открытого ключа

export AWS_SECRET_ACCESS_KEY=   - секретный ключ 

export AWS_DEFAULT_REGION=eu-central-1 - регион где будет сделан сервер 

# жизненный цикл сервера
lifecycle { 
#create_before_destroy = true #создает новый сервер и потом удаляет старый сервер
#prevent_destroy = true # предотвращает удаление сервера при изменении
#ignore_changes = ["ami" , "user_data"] # игнорирование изменения
}

terraform apply/plan -var="region=регион который нам нужен" -var="instance_type=t2.micro" - команда -var="" которая меняет переменную для задачи терраформа

export TF_VAR_instance_type=t2.micro export TF_VAR_region=eu-cetral-1 - это способ передать значения переменных в Terraform через переменные окружения с явным указанием, что эти переменные связаны с инфраструктурным кодом.

unset TF_VAR_region - стирает значения переменных которые были эскпортированны в env

env | grep TF_VAR - выполняет поиск и вывод всех переменных окружения, связанных с Terraform , чтобы увидеть, какие переменные используются в текущей среде для настройки Terraform-проекта или инфраструктуры.

terraform apply/plan -var-file="prod.auto.tfvars" - что бы вместе не запускались файлы с расширением .tfvars , нам нужно указывать сам файл который должен запуститься .
